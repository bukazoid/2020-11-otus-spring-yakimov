{"version":3,"sources":["webpack:///./src/main/js/common/Grid.js","webpack:///./src/main/js/components/Books.js"],"names":["Grid","dataField","order","paginationSize","pageStartIndex","hideSizePerPage","hidePageListOnlyOnePage","disablePageTitle","textFilter","placeholder","defaultSorted","getDefaultSortOptions","paginationOptions","getDefaultPagingOptions","filter","getDefaultFilterOptions","props","model","data","headers","map","prop","label","header","id","text","sort","emptyDataMessage","filterFactory","paginationFactory","React","Component","PropTypes","arrayOf","instanceOf","GridProperty","isRequired","any","Books","getModel","doFetch","then","handleApiError","response","json","setState","refreshList","error","console","loadData","prevProps","state","rows","book","rowBook","Object","assign","msgPrefix","idList"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;IACqBA,I;;;;;;;;;;;;;;;;4EASK,YAAM;AAC5B,aAAO,CAAC;AAAEC,iBAAS,EAAE,IAAb;AAAmBC,aAAK,EAAE;AAA1B,OAAD,CAAP;AACD,K;;8EAKyB,YAAM;AAC9B,aAAO;AACLC,sBAAc,EAAE,CADX;AAELC,sBAAc,EAAE,CAFX;AAGLC,uBAAe,EAAE,IAHZ;AAILC,+BAAuB,EAAE,IAJpB;AAKLC,wBAAgB,EAAE;AALb,OAAP;AAOD,K;;8EAKyB,YAAM;AAC9B,aAAOC,uJAAU,CAAC;AAAEC,mBAAW,EAAE;AAAf,OAAD,CAAjB,CAD8B,CACW;AAC1C,K;;;;;;;WAED,kBAAS;AACP,UAAMC,aAAa,GAAG,KAAKC,qBAAL,EAAtB;AACA,UAAMC,iBAAiB,GAAG,KAAKC,uBAAL,EAA1B;AACA,UAAMC,MAAM,GAAG,KAAKC,uBAAL,EAAf;AAHO,wBAIiB,KAAKC,KAJtB;AAAA,UAICC,KAJD,eAICA,KAJD;AAAA,UAIQC,IAJR,eAIQA,IAJR;AAMP,UAAMC,OAAO,GAAGF,KAAK,CAACG,GAAN,CAAU,UAACC,IAAD,EAAU;AAClC,YAAMC,KAAK,GAAGD,IAAI,CAACC,KAAnB;AACA,YAAMC,MAAM,GAAG;AAAEtB,mBAAS,EAAEoB,IAAI,CAACG,EAAlB;AAAsBC,cAAI,EAAEH,KAA5B;AAAmCI,cAAI,EAAE,IAAzC;AAA+CZ,gBAAM,EAAEA;AAAvD,SAAf;;AACA,YAAIO,IAAI,CAACG,EAAL,KAAY,YAAZ,IAA4BH,IAAI,CAACG,EAAL,KAAY,SAA5C,EAAuD;AACrD,iBAAOD,MAAM,CAACG,IAAd;AACA,iBAAOH,MAAM,CAACT,MAAd;AACD;;AACD,eAAOS,MAAP;AACD,OARe,CAAhB;AASA,UAAMI,gBAAgB,gBAAG,2DAAC,oIAAD;AAAkB,UAAE,EAAC;AAArB,QAAzB,CAfO,CAekE;;AACzE,0BACE,2DAAC,oJAAD;AACE,gBAAQ,EAAC,IADX;AAEE,YAAI,EAAET,IAFR;AAGE,eAAO,EAAEC,OAHX;AAIE,eAAO,MAJT;AAKE,aAAK,MALP;AAME,iBAAS,MANX;AAOE,wBAAgB,EAAEQ,gBAPpB;AAQE,qBAAa,EAAEjB,aARjB;AASE,cAAM,EAAEkB,uJAAa,EATvB;AAUE,kBAAU,EAAEC,0JAAiB,CAACjB,iBAAD;AAV/B,QADF;AAcD;;;;EA/D+BkB,4CAAK,CAACC,S;;gBAAnB/B,I,eACA;AACjBiB,OAAK,EAAEe,iDAAS,CAACC,OAAV,CAAkBD,iDAAS,CAACE,UAAV,CAAqBC,4JAArB,CAAlB,EAAsDC,UAD5C;AAEjBlB,MAAI,EAAEc,iDAAS,CAACC,OAAV,CAAkBD,iDAAS,CAACK,GAA5B,EAAiCD;AAFtB,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChBrB;AACA;;IAEME,K;;;;;;;;;;;;;;;;4DACIA,KAAK,CAACC,QAAN,CAAe,MAAf,EAAuB,CAC7B,IAD6B,EAE7B,OAF6B,EAG7B,QAH6B,EAI7B,QAJ6B,CAAvB,C;;+DAiBG,YAAM;AACfC,aAAO,CAAC,YAAD,EAAe,KAAf,CAAP,CACGC,IADH,CACQC,cADR,EAEGD,IAFH,CAEQ,UAACE,QAAD;AAAA,eAAcA,QAAQ,CAACC,IAAT,EAAd;AAAA,OAFR,EAGGH,IAHH,CAGQ,UAACG,IAAD;AAAA,eAAU,MAAKC,QAAL,CAAc;AAAE3B,cAAI,EAAE0B,IAAR;AAAcE,qBAAW,EAAE;AAA3B,SAAd,CAAV;AAAA,OAHR,WAIS,UAACC,KAAD;AAAA,eAAWC,OAAO,CAACD,KAAR,CAAcA,KAAd,CAAX;AAAA,OAJT;AAKD,K;;;;;;;WAhBD,6BAAoB;AAClB,WAAKE,QAAL;AACD;;;WAED,4BAAmBC,SAAnB,EAA8B;AAC5B,UAAI,KAAKC,KAAL,CAAWL,WAAf,EAA4B;AAC1B,aAAKG,QAAL;AACD;AACF;;;WAeD,kBAAS;AAAA,UACC/B,IADD,GACU,KAAKiC,KADf,CACCjC,IADD;AAEP,UAAMkC,IAAI,GAAGlC,IAAI,CAACE,GAAL,CAAS,UAACiC,IAAD,EAAU;AAC5B,YAAMC,OAAO,GAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBH,IAAlB,CAAhB;AAEAC,eAAO,CAAC,SAAD,CAAP,gBACE,mFADF;AAMA,eAAOA,OAAP;AACD,OAVU,CAAb;AAYA,0BACE,qFACE,6FADF,eAEE,2DAAC,oDAAD;AAAM,aAAK,EAAE,KAAKrC,KAAlB;AAAyB,YAAI,EAAEmC;AAA/B,QAFF,CADF;AAMD;;;;EAnDiBrB,+C;;gBAAdO,K,cA0Bc,UAACmB,SAAD,EAAYC,MAAZ,EAAuB;AACvC,SAAOA,MAAM,CAACtC,GAAP,CAAW,UAACI,EAAD;AAAA,WAAQ,IAAIW,YAAJ,CAAiBX,EAAjB,EAAqBA,EAArB,CAAR;AAAA,GAAX,CAAP;AACD,C;;AA0BYc,oEAAf,E","file":"main.7e3c517b88fc3fc3cbfc.hot-update.js","sourcesContent":["import React from \"react\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport filterFactory, { textFilter } from \"react-bootstrap-table2-filter\";\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\nimport { FormattedMessage } from \"react-intl\";\nimport PropTypes from \"prop-types\";\nimport GridProperty from \"../../../model/common/GridProperty\";\nimport \"react-bootstrap-table-next/dist/react-bootstrap-table2.min.css\";\nimport \"react-bootstrap-table2-filter/dist/react-bootstrap-table2-filter.min.css\";\nimport \"react-bootstrap-table2-paginator/dist/react-bootstrap-table2-paginator.min.css\";\n/**\n * Here we use BootstrapTable (filters, pagination, sorting are already included, but installed as an independent librarys)\n * For more information see:\n * https://react-bootstrap-table.github.io/react-bootstrap-table2/\n */\nexport default class Grid extends React.Component {\n  static propTypes = {\n    model: PropTypes.arrayOf(PropTypes.instanceOf(GridProperty)).isRequired,\n    data: PropTypes.arrayOf(PropTypes.any).isRequired,\n  };\n  /**\n   * More sort options you can find on:\n   * https://react-bootstrap-table.github.io/react-bootstrap-table2/docs/basic-sort.html\n   */\n  getDefaultSortOptions = () => {\n    return [{ dataField: \"id\", order: \"desc\" }];\n  };\n  /**\n   * More pagination options you can find on:\n   * https://react-bootstrap-table.github.io/react-bootstrap-table2/docs/basic-pagination.html\n   */\n  getDefaultPagingOptions = () => {\n    return {\n      paginationSize: 4,\n      pageStartIndex: 1,\n      hideSizePerPage: true,\n      hidePageListOnlyOnePage: true,\n      disablePageTitle: true,\n    };\n  };\n  /**\n   * More filter options you can find on:\n   * https://react-bootstrap-table.github.io/react-bootstrap-table2/docs/basic-filter.html\n   */\n  getDefaultFilterOptions = () => {\n    return textFilter({ placeholder: \" \" }); //TODO need to add a right text for each placeholder\n  };\n\n  render() {\n    const defaultSorted = this.getDefaultSortOptions();\n    const paginationOptions = this.getDefaultPagingOptions();\n    const filter = this.getDefaultFilterOptions();\n    const { model, data } = this.props;\n\n    const headers = model.map((prop) => {\n      const label = prop.label;\n      const header = { dataField: prop.id, text: label, sort: true, filter: filter };\n      if (prop.id === \"additional\" || prop.id === \"actions\") {\n        delete header.sort;\n        delete header.filter;\n      }\n      return header;\n    });\n    const emptyDataMessage = <FormattedMessage id=\"common.no-table-data\" />; //TODO emptyDataMessage should be in text format\n    return (\n      <BootstrapTable\n        keyField=\"id\"\n        data={data}\n        columns={headers}\n        striped\n        hover\n        condensed\n        noDataIndication={emptyDataMessage}\n        defaultSorted={defaultSorted}\n        filter={filterFactory()}\n        pagination={paginationFactory(paginationOptions)}\n      />\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport Grid from \"../common/Grid\";\n\nclass Books extends Component {\n  model = Books.getModel(\"Book\", [\n    \"id\",\n    \"title\",\n    \"author\",\n    \"genres\",\n  ]);\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.state.refreshList) {\n      this.loadData();\n    }\n  }\n\n  loadData = () => {\n    doFetch(\"/api/books\", \"GET\")\n      .then(handleApiError)\n      .then((response) => response.json())\n      .then((json) => this.setState({ data: json, refreshList: false }))\n      .catch((error) => console.error(error));\n  };\n\n  static getModel = (msgPrefix, idList) => {\n    return idList.map((id) => new GridProperty(id, id));\n  };\n\n  \n  render() {\n    const { data } = this.state;\n    const rows = data.map((book) => {\n        const rowBook = Object.assign({}, book);\n  \n        rowBook[\"actions\"] = (\n          <span>\n              actions\n          </span>\n        );\n  \n        return rowBook;\n      });\n\n    return (\n      <div>\n        <h1>Book: My React App!</h1>\n        <Grid model={this.model} data={rows} />\n      </div>\n    );\n  }\n}\n\nexport default Books;\n"],"sourceRoot":""}